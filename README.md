# metagriquiz
quizBOT

# index.js - Discord クイズボット メインファイル

## 概要
このファイルはDiscordクイズボットアプリケーションのメインエントリーポイントです。Discordクライアントの初期化、イベントハンドラの設定、コマンドの登録、そしてボットを起動状態に保つためのHTTPサーバーの作成を行います。

## 主要コンポーネント

### Discordクライアント設定
- 完全なインテント（権限）と特定のパーシャル（部分的データ）を持つDiscord.jsクライアントを初期化します
- エラーログ記録を設定します
- './events'ディレクトリからイベントハンドラを読み込みます
- './commands'ディレクトリからコマンドを登録します

### エラー処理
- グローバルな未捕捉例外処理を実装しています

### 認証
- 環境変数トークン（TOKEN）を使用してDiscordで認証します

### HTTPサーバー
- ポート3000でHTTPサーバーを作成します
- POSTリクエストを通じて「wake（起動維持）」メカニズムを実装しています
- GETリクエストによる簡単なヘルスチェックエンドポイントを提供します
- ボットが実行中の場合、「Discord Bot is Oprateing!」を返します

### 備考
- ボットにはGoogle Apps Script（GAS）を使用して起動状態を維持するべきというコメントが含まれています

# setting.json - Discord クイズボット設定ファイル

## 概要
Discordクイズボットの運用に必要なすべての基本設定を含む設定ファイルです。

## 設定セクション

### ボット設定
- **サーバー構成**:
  - `serverid`: Discordサーバーのid (951780348465909820)
  - `channelid`: メインクイズチャンネルid (1353146559717703732)
  - `activitiename`: ボットのアクティビティステータステキスト ("クイズBOT")

- **トークンとポイントシステム**:
  - `tokenchannel`: トークン操作用チャンネル (1084627990559858810)
  - `pointchannel`: ポイント操作用チャンネル (1084627990559858810)
  - `tokenroleid`: トークン管理用のロールid (1115455932239986738)
  - `tokenbotid`: トークンボットのid (1068392400684339210)
  - `pointobotid`: ポイントボットのid (1189072177425821707)

- **埋め込み表示設定**:
  - フッターの著作権テキスト: "©️ 2025 Metagri研究所"

### クイズ設定
- `resetTime`: クイズのリセット間隔（分）(5)
- `timeZone`: タイムゾーン設定 ("Asia/Tokyo")
- `checkTime`: 時間チェック間隔（分）(5)

### 外部連携
- `spreadsheet`: クイズデータ保存用のGoogleスプレッドシートID (1Pi51uKKRQHoRPTDcKc57M12yjeb5ivBc_ZU3_fubFrA)
